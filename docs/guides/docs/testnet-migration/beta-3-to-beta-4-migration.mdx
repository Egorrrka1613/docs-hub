---
title: Beta 4 Testnet Migration 
category: Testnet Migration
parent:
  label: Guides
  link: /guides
---

# Beta 4 Migration

This guide exclusively addresses the transition from the point where tool support for `beta 3` concludes to the adoption of `beta 4`.

- [Fuelup v0.19.4](https://github.com/FuelLabs/fuelup/releases/tag/v0.19.4)
- [Sway v0.44.0](https://github.com/FuelLabs/sway/releases/tag/v0.44.0)
- [TS SDK v0.51.0](https://github.com/FuelLabs/fuels-ts/releases/tag/v0.51.0)
- [Rust SDK v0.44.0](https://github.com/FuelLabs/fuels-rs/releases/tag/v0.44.0)

## Fuelup Toolchain
{/* This example should include the instructions for installing the latest toolchain */}
{/* toolchain_installation:example:start */}
Make sure you have the latest version of `fuelup` by running the following command:

```sh
fuelup self update
```

Then run `fuelup toolchain install beta-4` to install the `beta-4` toolchain.

Finally, set the `beta-4` toolchain as your default distribution with the following command:

```sh
$ fuelup default beta-4
default toolchain set to 'beta-4-aarch64-apple-darwin'
```

## Sway 
Integer types no longer implicitly cast to each other.
```sway
/* BEFORE - BETA 3 */
let y1: u16 = 4u8

/* AFTER - BETA 4 */
let y1: u16 = 4u8.as_u16()
```

```sway
/* BEFORE - BETA 3 */
let y3: u16 = 4u32

/* AFTER - BETA 4 */
let y3: u16 = 4u32.try_as_u16().unwrap()
```

Changes `disable_panic_on_overflow()` function to return the flags set
prior to calling the function

```sway
/* BEFORE - BETA 3 */
pub fn disable_panic_on_overflow() 

/* AFTER - BETA 4 */
pub fn disable_panic_on_overflow() -> u64
```

## TS SDK
The `rawPayload` property has been deprecated from the `Receipt` struct.

For more details on the schema modification, please refer to the schema [here](https://graphql-docs.fuel.network/docs/reference/objects/#receipt).

```typescript
/* BEFORE - BETA 3 */
const receipt = new ReceiptCoder().decode(arrayify(gqlReceipt.rawPayload), 0)[0];

/* AFTER - BETA 4 */
const receipt = assembleReceiptByType(gqlReceipt);
```

## Rust SDK
To utilize `append_variable_outputs()` and `append_contract()`, `TxDependencyExtension` now must be within scope.

```rust
/* BEFORE - BETA 3 */
pub fn append_variable_outputs(&mut self, num: u64) {
    self.variable_outputs
        .extend(new_variable_outputs(num as usize));
}

/* AFTER - BETA 4 */
use crate::{
    call_utils::{TxDependencyExtension},
};

pub fn append_variable_outputs(&mut self, num: u64) {
    self.variable_outputs
        .extend(new_variable_outputs(num as usize));
}
```
